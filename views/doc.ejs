<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>图表生成文档</title>
    <link rel="icon" href="/images/favicon.ico" />
    <link rel="stylesheet" href="/layui/css/layui.css" />
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <style>
      .layui-tab {
        margin: 0;
      }
    </style>
    <script src="/monaco-editor/min/vs/loader.js"></script>
    <script src="/javascripts/doc-editor.js"></script>
    <script src="/layui/layui.js"></script>
  </head>
  <body>
    <div class="layui-tab" lay-filter="nav-tab">
      <ul class="layui-tab-title">
        <li class="layui-this" lay-id="desc">说明</li>
        <li lay-id="img">img</li>
        <li lay-id="url">url</li>
        <li lay-id="html">html</li>
        <li lay-id="svg">svg</li>
        <li lay-id="gif">gif</li>
        <li lay-id="java">java 例子</li>
      </ul>
      <div class="layui-tab-content">
        <div class="layui-tab-item layui-show">
          <fieldset class="layui-elem-field layui-field-title">
            <legend>文档说明</legend>
          </fieldset>
          <div style="padding: 10px; background-color: #f2f2f2">
            <div class="layui-row layui-col-space15">
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">功能说明</div>
                  <div class="layui-card-body">
                    由于项目要用到服务器生成图片的功能<br />
                    使用了 puppeteer 作为 headless
                    浏览器来渲染图片，返回生成的图片。<br />
                    提供接口有 api/img、api/url、api/html、api/svg、api/gif。
                  </div>
                </div>
              </div>
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">使用说明</div>
                  <div class="layui-card-body">
                    生成echarts图片的options参数是必须的，基本支持
                    <a
                      href="https://www.makeapie.com/explore.html"
                      target="_blank"
                      >Gallery</a
                    >的代码来生成图片
                  </div>
                </div>
              </div>
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">组件扩展</div>
                  <div class="layui-card-body">
                    <h5>地图</h5>
                    <p>已集成 china,word 和国内省份</p>
                    <p>
                      自定义地图
                      <a
                        href="http://datav.aliyun.com/tools/atlas"
                        target="_blank"
                        >http://datav.aliyun.com/tools/atlas</a
                      >
                    </p>
                    <br />
                    <h5>ECharts GL</h5>
                    <p>
                      提供丰富的三维可视化组件,
                      <a
                        href="https://github.com/ecomfe/echarts-gl"
                        target="_blank"
                        >https://github.com/ecomfe/echarts-gl</a
                      >
                    </p>
                    <br />
                    <h5>水球图</h5>
                    <p>
                      水球图组件
                      <a
                        href="https://github.com/ecomfe/echarts-liquidfill"
                        target="_blank"
                        >https://github.com/ecomfe/echarts-liquidfill</a
                      >
                    </p>
                    <br />
                    <h5>字符云</h5>
                    <p>
                      字符云组件
                      <a
                        href="https://github.com/ecomfe/echarts-wordcloud"
                        target="_blank"
                        >https://github.com/ecomfe/echarts-wordcloud</a
                      >
                    </p>
                  </div>
                </div>
              </div>
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">常见错误</div>
                  <div class="layui-card-body">
                    <h5>
                      waiting for selector ".finished canvas" failed: timeout
                      10000ms exceeded
                    </h5>
                    <p>
                      无法获取echarts的finished事件，可能是因为有持续性动画无法触发finished事件，解决方法：1、删除动画
                      2、使用delay参数
                    </p>
                    <br />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="layui-tab-item">
          <fieldset class="layui-elem-field layui-field-title">
            <legend>接口 api/img</legend>
          </fieldset>
          <div style="padding: 10px; background-color: #f2f2f2">
            <div class="layui-row layui-col-space15">
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">接口说明</div>
                  <div class="layui-card-body">
                    获取echarts图片，返回图片base64
                  </div>
                </div>
              </div>
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">POST请求参数</div>
                  <div class="layui-card-body">
                    <table class="layui-table" lay-size="lg">
                      <colgroup>
                        <col width="120" />
                        <col width="100" />
                        <col width="100" />
                        <col />
                      </colgroup>
                      <thead>
                        <tr>
                          <th>名称</th>
                          <th>必须</th>
                          <th>类型</th>
                          <th>签说明名</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>options</td>
                          <td>是</td>
                          <td>string</td>
                          <td>
                            js代码，需包含变量option供echarts.setOption()使用，也可自定调用生成，已定义全局变量myChart（echarts实例）<br />
                            注：option会默认设置 “option.animation =
                            ${animation}”, animation默认为false
                          </td>
                        </tr>
                        <tr>
                          <td>width</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>echarts宽度，默认宽度为600,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>height</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>echarts高度，默认宽度为400,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>imgType</td>
                          <td>否</td>
                          <td>string</td>
                          <td>生成图片类型，默认png 可选类型：png, jpeg</td>
                        </tr>
                        <tr>
                          <td>pixelRatio</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>
                            生成图片的分辨率比例，默认1 <br />
                            注：生成的图片大小为(width*pixelRatio)*(height*pixelRatio)
                          </td>
                        </tr>
                        <tr>
                          <td>delay</td>
                          <td>否</td>
                          <td>int</td>
                          <td>
                            延迟多长时间后获取图片，默认为0，单位ms,<br />
                            注：delay为0时会监听echarts的finished事件，因有些图有动画无法获取到finished事件，这时可使用delay来延时截图
                          </td>
                        </tr>
                        <tr>
                          <td>animation</td>
                          <td>否</td>
                          <td>bool</td>
                          <td>echarts动画，默认false</td>
                        </tr>
                        <tr>
                          <td>theme</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts主题，默认为空 <br />
                            常用主题：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/theme-builder.html"
                              >https://echarts.apache.org/zh/theme-builder.html</a
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>echartsVersion</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts版本，默认
                            4.9.0，可选：4.8.0、4.9.0、5.0.0<br />
                          </td>
                        </tr>
                        <tr>
                          <td>renderer</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts渲染器，默认canvas，支持 'canvas' 或者 'svg'
                          </td>
                        </tr>
                        <tr>
                          <td>marker</td>
                          <td>否</td>
                          <td>boolean|map</td>
                          <td>
                            是否添加水印，默认false，可传true，会添加默认水印，默认参数
                            { text: '西安全景', font: 'normal 18px Microsoft
                            Yahei', fontColor: '#96a3b0', textBaseline:
                            'bottom', alpha: 0.8, rotate: 0, x: params.width -
                            80, y: params.height - 20, }，也可自定义传入map
                          </td>
                        </tr>
                        <tr>
                          <td>echartsOpts</td>
                          <td>否</td>
                          <td>map</td>
                          <td>
                            echarts.init方法的opts参数，不传则使用传入的参数{devicePixelRatio、renderer、width、height
                            }创建 <br />
                            注：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/api.html#echarts.init"
                              >https://echarts.apache.org/zh/api.html#echarts.init</a
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>dataURLOpts</td>
                          <td>否</td>
                          <td>map</td>
                          <td>
                            echarts.getDataURL方法的opts参数，不传则使用传入的参数{type:imgType,pixelRatio,backgroundColor,excludeComponents}创建
                            <br />
                            注：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/api.html#echartsInstance.getDataURL"
                              >https://echarts.apache.org/zh/api.html#echartsInstance.getDataURL</a
                            >
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="layui-tab-item">
          <fieldset class="layui-elem-field layui-field-title">
            <legend>接口 api/url</legend>
          </fieldset>
          <div style="padding: 10px; background-color: #f2f2f2">
            <div class="layui-row layui-col-space15">
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">接口说明</div>
                  <div class="layui-card-body">
                    获取echarts图片的URL地址 <br />
                    注：图片文件如果需要持久化必须传入参数appName，否则图片将添加到临时文件夹，<span
                      class="layui-bg-red"
                      >三天后自动删除</span
                    >
                  </div>
                </div>
              </div>
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">POST请求参数</div>
                  <div class="layui-card-body">
                    <table class="layui-table" lay-size="lg">
                      <colgroup>
                        <col width="120" />
                        <col width="100" />
                        <col width="100" />
                        <col />
                      </colgroup>
                      <thead>
                        <tr>
                          <th>名称</th>
                          <th>必须</th>
                          <th>类型</th>
                          <th>签说明名</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>options</td>
                          <td>是</td>
                          <td>string</td>
                          <td>
                            js代码，需包含变量option供echarts.setOption()使用，也可自定调用生成，已定义全局变量myChart（echarts实例）<br />
                            注：option会默认设置 “option.animation =
                            ${animation}”, animation默认为false
                          </td>
                        </tr>
                        <tr>
                          <td>appName</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            项目名称，图片需要持久化需传入，不能有【\\\\/:*?\"<>|】非法字符，且不能是使用“时间格式化YYYYMMDD”的字符，这是临时文件名
                          </td>
                        </tr>
                        <tr>
                          <td>fileName</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            文件名称，默认为当前“时间戳.imgType”，不能有【\\\\/:*?\"<>|】非法字符
                            <br />
                            注：请勿传文件后缀名，程序自定添加，如果文件已存在则覆盖
                          </td>
                        </tr>
                        <tr>
                          <td>width</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>echarts宽度，默认宽度为600,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>height</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>echarts高度，默认宽度为400,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>imgType</td>
                          <td>否</td>
                          <td>string</td>
                          <td>生成图片类型，默认png 可选类型：png, jpeg</td>
                        </tr>
                        <tr>
                          <td>pixelRatio</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>
                            生成图片的分辨率比例，默认1 <br />
                            注：生成的图片大小为(width*pixelRatio)*(height*pixelRatio)
                          </td>
                        </tr>
                        <tr>
                          <td>delay</td>
                          <td>否</td>
                          <td>int</td>
                          <td>
                            延迟多长时间后获取图片，默认为0，单位ms,<br />
                            注：delay为0时会监听echarts的finished事件，因有些图有动画无法获取到finished事件，这时可使用delay来延时截图
                          </td>
                        </tr>
                        <tr>
                          <td>animation</td>
                          <td>否</td>
                          <td>bool</td>
                          <td>echarts动画，默认false</td>
                        </tr>
                        <tr>
                          <td>theme</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts主题，默认为空 <br />
                            常用主题：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/theme-builder.html"
                              >https://echarts.apache.org/zh/theme-builder.html</a
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>echartsVersion</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts版本，默认
                            4.9.0，可选：4.8.0、4.9.0、5.0.0<br />
                          </td>
                        </tr>
                        <tr>
                          <td>renderer</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts渲染器，默认canvas，支持 'canvas' 或者 'svg'
                          </td>
                        </tr>
                        <tr>
                          <td>marker</td>
                          <td>否</td>
                          <td>boolean|map</td>
                          <td>
                            是否添加水印，默认false，可传true，会添加默认水印，默认参数
                            { text: '西安全景', font: 'normal 18px Microsoft
                            Yahei', fontColor: '#96a3b0', textBaseline:
                            'bottom', alpha: 0.8, rotate: 0, x: params.width -
                            80, y: params.height - 20, }，也可自定义传入map
                          </td>
                        </tr>
                        <tr>
                          <td>echartsOpts</td>
                          <td>否</td>
                          <td>map</td>
                          <td>
                            echarts.init方法的opts参数，不传则使用传入的参数{devicePixelRatio、renderer、width、height
                            }创建 <br />
                            注：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/api.html#echarts.init"
                              >https://echarts.apache.org/zh/api.html#echarts.init</a
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>dataURLOpts</td>
                          <td>否</td>
                          <td>map</td>
                          <td>
                            echarts.getDataURL方法的opts参数，不传则使用传入的参数{type:imgType,pixelRatio,backgroundColor,excludeComponents}创建
                            <br />
                            注：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/api.html#echartsInstance.getDataURL"
                              >https://echarts.apache.org/zh/api.html#echartsInstance.getDataURL</a
                            >
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="layui-tab-item">
          <fieldset class="layui-elem-field layui-field-title">
            <legend>接口 api/html</legend>
          </fieldset>
          <div style="padding: 10px; background-color: #f2f2f2">
            <div class="layui-row layui-col-space15">
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">接口说明</div>
                  <div class="layui-card-body">
                    获取echarts生成图片的html内容
                  </div>
                </div>
              </div>
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">POST请求参数</div>
                  <div class="layui-card-body">
                    <table class="layui-table" lay-size="lg">
                      <colgroup>
                        <col width="120" />
                        <col width="100" />
                        <col width="100" />
                        <col />
                      </colgroup>
                      <thead>
                        <tr>
                          <th>名称</th>
                          <th>必须</th>
                          <th>类型</th>
                          <th>签说明名</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>options</td>
                          <td>是</td>
                          <td>string</td>
                          <td>
                            js代码，需包含变量option供echarts.setOption()使用，也可自定调用生成，已定义全局变量myChart（echarts实例）<br />
                            注：option会默认设置 “option.animation =
                            ${animation}”, animation默认为false
                          </td>
                        </tr>
                        <tr>
                          <td>width</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>echarts宽度，默认宽度为600,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>height</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>echarts高度，默认宽度为400,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>animation</td>
                          <td>否</td>
                          <td>bool</td>
                          <td>echarts动画，默认false</td>
                        </tr>
                        <tr>
                          <td>theme</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts主题，默认为空 <br />
                            常用主题：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/theme-builder.html"
                              >https://echarts.apache.org/zh/theme-builder.html</a
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>echartsVersion</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts版本，默认
                            4.9.0，可选：4.8.0、4.9.0、5.0.0<br />
                          </td>
                        </tr>
                        <tr>
                          <td>renderer</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts渲染器，默认canvas，支持 'canvas' 或者 'svg'
                          </td>
                        </tr>
                        <tr>
                          <td>echartsOpts</td>
                          <td>否</td>
                          <td>map</td>
                          <td>
                            echarts.init方法的opts参数，不传则使用传入的参数{devicePixelRatio、renderer、width、height
                            }创建 注：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/api.html#echarts.init"
                              >https://echarts.apache.org/zh/api.html#echarts.init</a
                            >
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="layui-tab-item">
          <fieldset class="layui-elem-field layui-field-title">
            <legend>接口 api/svg</legend>
          </fieldset>
          <div style="padding: 10px; background-color: #f2f2f2">
            <div class="layui-row layui-col-space15">
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">接口说明</div>
                  <div class="layui-card-body">获取echarts生成的svg</div>
                </div>
              </div>
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">POST请求参数</div>
                  <div class="layui-card-body">
                    <table class="layui-table" lay-size="lg">
                      <colgroup>
                        <col width="120" />
                        <col width="100" />
                        <col width="100" />
                        <col />
                      </colgroup>
                      <thead>
                        <tr>
                          <th>名称</th>
                          <th>必须</th>
                          <th>类型</th>
                          <th>签说明名</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>options</td>
                          <td>是</td>
                          <td>string</td>
                          <td>
                            js代码，需包含变量option供echarts.setOption()使用，也可自定调用生成，已定义全局变量myChart（echarts实例）<br />
                            注：option会默认设置 “option.animation =
                            ${animation}”, animation默认为false
                          </td>
                        </tr>
                        <tr>
                          <td>width</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>echarts宽度，默认宽度为600,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>height</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>echarts高度，默认宽度为400,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>delay</td>
                          <td>否</td>
                          <td>int</td>
                          <td>
                            延迟多长时间后获取图片，默认为0，单位ms,<br />
                            注：delay为0时会监听echarts的finished事件，因有些图有动画无法获取到finished事件，这时可使用delay来延时截图
                          </td>
                        </tr>
                        <tr>
                          <td>animation</td>
                          <td>否</td>
                          <td>bool</td>
                          <td>echarts动画，默认false</td>
                        </tr>
                        <tr>
                          <td>theme</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts主题，默认为空 <br />
                            常用主题：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/theme-builder.html"
                              >https://echarts.apache.org/zh/theme-builder.html</a
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>echartsVersion</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts版本，默认
                            4.9.0，可选：4.8.0、4.9.0、5.0.0<br />
                          </td>
                        </tr>
                        <tr>
                          <td>echartsOpts</td>
                          <td>否</td>
                          <td>map</td>
                          <td>
                            echarts.init方法的opts参数，不传则使用传入的参数{devicePixelRatio、renderer、width、height
                            }创建 <br />注：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/api.html#echarts.init"
                              >https://echarts.apache.org/zh/api.html#echarts.init</a
                            >
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="layui-tab-item">
          <fieldset class="layui-elem-field layui-field-title">
            <legend>接口 api/gif</legend>
          </fieldset>
          <div style="padding: 10px; background-color: #f2f2f2">
            <div class="layui-row layui-col-space15">
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">接口说明</div>
                  <div class="layui-card-body">
                    获取echarts生成的gif动图<br />
                    注：测试中，接口很慢请勿使用
                  </div>
                </div>
              </div>
              <div class="layui-col-md12">
                <div class="layui-card">
                  <div class="layui-card-header">POST请求参数</div>
                  <div class="layui-card-body">
                    <table class="layui-table" lay-size="lg">
                      <colgroup>
                        <col width="120" />
                        <col width="100" />
                        <col width="100" />
                        <col />
                      </colgroup>
                      <thead>
                        <tr>
                          <th>名称</th>
                          <th>必须</th>
                          <th>类型</th>
                          <th>签说明名</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>options</td>
                          <td>是</td>
                          <td>string</td>
                          <td>
                            js代码，需包含变量option供echarts.setOption()使用，也可自定调用生成，已定义全局变量myChart（echarts实例）<br />
                            注：option会默认设置 “option.animation =
                            ${animation}”, animation默认为false
                          </td>
                        </tr>
                        <tr>
                          <td>gifTime</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>git持续时间，默认0,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>gifInterval</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>
                            gif截取每帧图片时间间隔单位ms，默认50ms,参数必须是数字<br />
                            注：实际会比设置值长5ms左右
                          </td>
                        </tr>
                        <tr>
                          <td>gifDelay</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>
                            gif记录每帧的时间间隔单位ms，默认宽度为54ms,参数必须是数字
                          </td>
                        </tr>
                        <tr>
                          <td>gifRepeat</td>
                          <td>否</td>
                          <td>int</td>
                          <td>
                            gif是否重复,默认0，可选：-1不重复，0永远重复,参数必须是数字
                          </td>
                        </tr>
                        <tr>
                          <td>gifWorkers</td>
                          <td>否</td>
                          <td>int</td>
                          <td>gif的网络工作者，默认4, 参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>gifQuality</td>
                          <td>否</td>
                          <td>int</td>
                          <td>gif像素采样间隔，默认50， 参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>gifOpts</td>
                          <td>否</td>
                          <td>map</td>
                          <td>
                            gif.js创建方法的opts参数，不传则使用传入的参数{gifRepeat,gifWorkers、gifQuality
                            }创建 <br />
                            注：<a
                              target="_blank"
                              href="https://github.com/jnordberg/gif.js"
                              >https://github.com/jnordberg/gif.js</a
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>width</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>echarts宽度，默认宽度为600,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>width</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>echarts宽度，默认宽度为600,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>height</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>echarts高度，默认宽度为400,参数必须是数字</td>
                        </tr>
                        <tr>
                          <td>pixelRatio</td>
                          <td>否</td>
                          <td>string|int</td>
                          <td>
                            生成图片的分辨率比例，默认1 <br />
                            注：生成的图片大小为(width*pixelRatio)*(height*pixelRatio)
                          </td>
                        </tr>
                        <tr>
                          <td>delay</td>
                          <td>否</td>
                          <td>int</td>
                          <td>
                            延迟多长时间后获取图片，默认为0，单位ms,<br />
                            注：delay为0时会监听echarts的finished事件，因有些图有动画无法获取到finished事件，这时可使用delay来延时截图
                          </td>
                        </tr>
                        <tr>
                          <td>animation</td>
                          <td>否</td>
                          <td>bool</td>
                          <td>echarts动画，默认true</td>
                        </tr>
                        <tr>
                          <td>theme</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts主题，默认为空 <br />
                            常用主题：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/theme-builder.html"
                              >https://echarts.apache.org/zh/theme-builder.html</a
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>echartsVersion</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts版本，默认
                            4.9.0，可选：4.8.0、4.9.0、5.0.0<br />
                          </td>
                        </tr>
                        <tr>
                          <td>renderer</td>
                          <td>否</td>
                          <td>string</td>
                          <td>
                            echarts渲染器，默认canvas，支持 'canvas' 或者 'svg'
                          </td>
                        </tr>
                        <tr>
                          <td>echartsOpts</td>
                          <td>否</td>
                          <td>map</td>
                          <td>
                            echarts.init方法的opts参数，不传则使用传入的参数{devicePixelRatio、renderer、width、height
                            }创建 <br />
                            注：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/api.html#echarts.init"
                              >https://echarts.apache.org/zh/api.html#echarts.init</a
                            >
                          </td>
                        </tr>
                        <tr>
                          <td>dataURLOpts</td>
                          <td>否</td>
                          <td>map</td>
                          <td>
                            echarts.getDataURL方法的opts参数，不传则使用传入的参数{type:imgType,pixelRatio,backgroundColor,excludeComponents}创建
                            <br />
                            注：<a
                              target="_blank"
                              href="https://echarts.apache.org/zh/api.html#echartsInstance.getDataURL"
                              >https://echarts.apache.org/zh/api.html#echartsInstance.getDataURL</a
                            >
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="layui-tab-item">
          <div class="layui-row layui-col-space15">
            <div class="layui-col-md6">
              <div class="layui-card">
                <div class="layui-card-header">使用说明</div>
                <div class="layui-card-body">
                  <h4>springboot项目使用说明</h4>
                  <hr class="layui-bg-gray" />
                  <h5>
                    使用依赖
                    <a href="https://www.hutool.cn/docs/#/" target="_blank"
                      >Hutool工具包</a
                    >
                  </h5>
                  <div id="xml_monaco_container" style="height: 120px"></div>
                  <hr class="layui-bg-gray" />
                  <h5>EchartService使用</h5>
                  <p>常用方法</p>
                  <p>
                    1、<span style="color: #01aaed">getTempChartImgUrl</span>
                    获取临时图片URL
                  </p>
                  <p>
                    2、<span style="color: #01aaed">getChartImgUrl</span>
                    获取持久化图片URL
                  </p>
                  <p>
                    3、<span style="color: #01aaed">getChartImgBase64</span>
                    获取图片base64字符串
                  </p>
                  <p>
                    4、<span style="color: #01aaed">getChartImgFile</span>
                    获取图片文件
                  </p>
                  <p>
                    此service只是将常用方法封装，可根据自己的需求进行优化和修改
                  </p>
                  <hr class="layui-bg-gray" />
                  <h5>配置</h5>
                  <p>部分默认参数可通过配置文件进行修改，如右边示例所示</p>
                  <p>
                    只有在生成永久存在图片时参数
                    <span style="color: #ffb800">echarts.service.appName</span>
                    是必须的，用来将不同应用的图片保存到各自的文件夹下
                  </p>
                  <p>其它参数都是可选</p>
                </div>
              </div>
            </div>
            <div class="layui-col-md6">
              <div class="layui-card">
                <div class="layui-card-header">代码</div>
                <div class="layui-card-body">
                  <div class="right-waper">
                    <div class="layui-card">
                      <div class="layui-card-header">
                        配置文件示例 application.properties
                      </div>
                      <div
                        style="height: 200px"
                        id="ini_monaco_container"
                      ></div>
                    </div>
                    <div class="layui-card" style="flex: 1; overflow: hidden">
                      <div class="layui-card-header">
                        service文件示例 EchartService
                      </div>
                      <div
                        style="height: 600px"
                        id="java_monaco_container"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    layui.use("element", function () {
      var $ = layui.jquery;
      var element = layui.element;
      var $ = layui.jquery;

      var layid = location.hash.replace(/^#tab=/, "");
      element.tabChange("nav-tab", layid);

      element.on("tab(nav-tab)", function (elem) {
        location.hash = "tab=" + $(this).attr("lay-id");
      });
      setTimeout(() => {
        $.get(`/editorCode/EchartService.java`, function (response) {
          Editor.setJavaCode(response);
        });
      }, 200);
    });
  </script>
</html>
